const translations = {
    ar: {
        nav_home: "الرئيسية",
        nav_about: "من نحن",
        nav_services: "خدماتنا",
        nav_gallery: "أعمالنا",
        nav_contact: "اتصل بنا",
        hero_title_pre: "رؤية جديدة وحلول متكاملة في",
        hero_title_highlight: "قطاع النفط والغاز",
        hero_desc: "نقدم أعلى المعايير الفنية والتقنية في الصيانة، الإنشاءات، والدعم اللوجستي للحقول والمنشآت النفطية في ليبيا.",
        hero_btn_explore: "استكشف خدماتنا",
        hero_btn_contact: "تواصل معنا",
        about_title: "من نحن",
        about_lead: "شركة الأفق الأزرق للخدمات النفطية (Blue Horizon Oil Services)",
        about_desc: "نحن شركة رائدة مقرها الرئيسي في طرابلس، ليبيا، متخصصة في تقديم خدمات متكاملة في قطاع النفط والغاز. نلتزم بأعلى معايير الجودة والسلامة لتلبية احتياجات عملائنا، بدءاً من التركيب والصيانة وحتى الدعم اللوجستي وتوفير العمالة المؤهلة.",
        stat_exp: "سنوات خبرة",
        stat_quality: "التزام بالجودة",
        stat_support: "دعم فني",
        services_title: "خدماتنا الرئيسية",
        services_subtitle: "حلول شاملة تغطي كافة احتياجات قطاع الطاقة",
        serv_pumps_title: "المضخات والمضاغط",
        serv_pumps_desc: "تركيب وصيانة المضخات والمضاغط الخاصة بالمياه والنفط والغاز بأحدث التقنيات.",
        serv_tanks_title: "الخزانات والأنابيب",
        serv_tanks_desc: "إنشاء وصيانة الخزانات وخطوط الأنابيب ومحطات نقل النفط ومشتقاته.",
        serv_maint_title: "صيانة المعدات",
        serv_maint_desc: "تركيب وصيانة الأجهزة والمعدات والأنظمة الدقيقة في الحقول والمنشآت.",
        serv_transport_title: "النقل الثقيل",
        serv_transport_desc: "نقل الحفارات والمعدات الثقيلة بأمان وكفاءة داخل مختلف المناطق الليبية.",
        serv_insulation_title: "العزل والطلاء",
        serv_insulation_desc: "تنفيذ أعمال العزل الحراري والطلاء الصناعي لحماية المنشآت وإطالة عمرها الافتراضي.",
        serv_manpower_title: "العمالة الفنية",
        serv_manpower_desc: "توفير كوادر بشرية وعمالة فنية مؤهلة ومدربة لتلبية احتياجات المشاريع النفطية.",
        serv_equipment_title: "توفير الآليات",
        serv_equipment_desc: "توفير جميع أنواع الآليات وقطع الغيار (تويوتا دفع رباعي، آليات ثقيلة) للمواقع الصعبة.",
        serv_logistics_title: "الدعم اللوجستي",
        serv_logistics_desc: "خدمات دعم لوجستي متكاملة للشركات الأجنبية العاملة في قطاع الطاقة في ليبيا.",
        gallery_title: "معرض الأعمال",
        gallery_desc: "لقطات حية من مواقع العمل والعمليات الميدانية",
        gal_1_title: "أحدث التقنيات الهندسية",
        gal_1_desc: "تطبيق معايير هندسية عالمية في كافة مراحل المشروع",
        gal_2_title: "دقة في التنفيذ",
        gal_2_desc: "التزام تام بالمواصفات والجداول الزمنية",
        why_title: "لماذا تختار الأفق الأزرق؟",
        feat_punctuality: "✓ دقة في المواعيد",
        feat_efficiency: "✓ كفاءة تشغيلية عالية",
        feat_safety: "✓ معايير سلامة عالمية",
        contact_title: "تواصل معنا",
        contact_desc: "نحن هنا للإجابة على استفساراتكم ومناقشة احتياجات مشاريعكم.",
        contact_hq: "المقر الرئيسي",
        contact_hq_val: "طرابلس، ليبيا",
        contact_email: "البريد الإلكتروني",
        contact_phone: "أرقام الهاتف",
        footer_slogan: "للخدمات النفطية",
        footer_rights: "© 2026 شركة الأفق الأزرق للخدمات النفطية. جميع الحقوق محفوظة."
    },
    en: {
        nav_home: "Home",
        nav_about: "About Us",
        nav_services: "Services",
        nav_gallery: "Gallery",
        nav_contact: "Contact Us",
        hero_title_pre: "New Vision and Integrated Solutions in the",
        hero_title_highlight: "Oil & Gas Sector",
        hero_desc: "We provide the highest technical standards in maintenance, construction, and logistical support for oil fields and facilities in Libya.",
        hero_btn_explore: "Explore Services",
        hero_btn_contact: "Contact Us",
        about_title: "About Us",
        about_lead: "Blue Horizon Oil Services Company",
        about_desc: "We are a leading company based in Tripoli, Libya, specializing in providing integrated services in the oil and gas sector. We are committed to the highest standards of quality and safety to meet our customers' needs, from installation and maintenance to logistical support and providing qualified labor.",
        stat_exp: "Years Experience",
        stat_quality: "Quality Commitment",
        stat_support: "Tech Support",
        services_title: "Our Main Services",
        services_subtitle: "Comprehensive solutions covering all energy sector needs",
        serv_pumps_title: "Pumps & Compressors",
        serv_pumps_desc: "Installation and maintenance of water, oil, and gas pumps and compressors using the latest technologies.",
        serv_tanks_title: "Tanks & Pipelines",
        serv_tanks_desc: "Construction and maintenance of storage tanks, pipelines, and oil transport stations.",
        serv_maint_title: "Equipment Maintenance",
        serv_maint_desc: "Installation and maintenance of devices, equipment, and precision systems in fields and facilities.",
        serv_transport_title: "Heavy Transport",
        serv_transport_desc: "Safe and efficient transport of rigs and heavy equipment within various Libyan regions.",
        serv_insulation_title: "Insulation & Coating",
        serv_insulation_desc: "Implementation of thermal insulation and industrial coating to protect facilities and extend their lifespan.",
        serv_manpower_title: "Technical Manpower",
        serv_manpower_desc: "Providing qualified and trained human resources and technical labor to meet oil project needs.",
        serv_equipment_title: "Equipment Supply",
        serv_equipment_desc: "Supplying all types of machinery and spare parts (Toyota 4WD, heavy machinery) for difficult sites.",
        serv_logistics_title: "Logistical Support",
        serv_logistics_desc: "Integrated logistical support services for foreign companies working in the energy sector in Libya.",
        gallery_title: "Our Gallery",
        gallery_desc: "Live shots from work sites and field operations",
        gal_1_title: "Latest Engineering Tech",
        gal_1_desc: "Applying global engineering standards in all project stages",
        gal_2_title: "Precision in Execution",
        gal_2_desc: "Full commitment to specifications and timelines",
        why_title: "Why Choose Blue Horizon?",
        feat_punctuality: "✓ Punctuality",
        feat_efficiency: "✓ High Operational Efficiency",
        feat_safety: "✓ Global Safety Standards",
        contact_title: "Contact Us",
        contact_desc: "We are here to answer your inquiries and discuss your project needs.",
        contact_hq: "Headquarters",
        contact_hq_val: "Tripoli, Libya",
        contact_email: "Email",
        contact_phone: "Phone Numbers",
        footer_slogan: "For Oil Services",
        footer_rights: "© 2026 Blue Horizon Oil Services. All Rights Reserved."
    }
};

function setLanguage(lang) {
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.body.style.direction = lang === 'ar' ? 'rtl' : 'ltr';

    // Update Text
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update Toggle Button Text
    const toggleBtn = document.getElementById('lang-toggle');
    if (toggleBtn) {
        toggleBtn.textContent = lang === 'ar' ? 'English' : 'العربية';
    }
}

document.addEventListener('DOMContentLoaded', () => {
    // Initialize Language
    const savedLang = localStorage.getItem('lang') || 'ar';
    setLanguage(savedLang);

    // Language Toggle Listener
    const langToggle = document.getElementById('lang-toggle');
    if (langToggle) {
        langToggle.addEventListener('click', () => {
            const currentLang = document.documentElement.lang;
            const newLang = currentLang === 'ar' ? 'en' : 'ar';
            setLanguage(newLang);
        });
    }

    // Scroll Animations
    // Scroll Animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target); // Only animate once
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-up').forEach(el => {
        observer.observe(el);
    });

    // Mobile Menu Toggle
    const menuBtn = document.querySelector('.mobile-menu-btn');
    const navLinks = document.querySelector('.nav-links');

    if (menuBtn) {
        menuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');

            // Animate hamburger to X
            const spans = menuBtn.querySelectorAll('span');
            if (navLinks.classList.contains('active')) {
                spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
                spans[1].style.opacity = '0';
                spans[2].style.transform = 'rotate(-45deg) translate(5px, -5px)';
            } else {
                spans[0].style.transform = 'none';
                spans[1].style.opacity = '1';
                spans[2].style.transform = 'none';
            }
        });
    }

    // Smooth Scroll for Anchor Links (polishing behavior)
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                // Close mobile menu if open
                if (navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    // Reset hamburger icon
                    const spans = menuBtn.querySelectorAll('span');
                    spans[0].style.transform = 'none';
                    spans[1].style.opacity = '1';
                    spans[2].style.transform = 'none';
                }

                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Navbar Glass Effect on Scroll
    const navbar = document.querySelector('.navbar');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            navbar.style.background = 'rgba(5, 11, 20, 0.95)';
            navbar.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';
        } else {
            navbar.style.background = 'rgba(5, 11, 20, 0.8)';
            navbar.style.boxShadow = 'none';
        }
    });
});
